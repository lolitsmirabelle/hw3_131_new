---
title: "Homework 3"
output: html_document
date: '2022-04-16'
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidymodels)
library(ISLR) # For the Smarket data set
library(ISLR2) # For the Bikeshare data set
library(discrim)
library(poissonreg)
library(corrr)
library(klaR) # for naive bayes
tidymodels_prefer()
```

## Question 1

```{r}
titanic <- read.csv("~/Downloads/homework-3/data/titanic.csv")
titanic$survived <- factor(titanic$survived,levels=c('Yes', 'No'))
titanic$pclass <- factor(titanic$pclass)

set.seed(2424)

titanic_split <- initial_split(titanic, prop = 0.80,
                                strata = survived)
titanic_train <- training(titanic_split) 
titanic_test <- testing(titanic_split)
```
It is a good idea to use stratified sampling for this data since each subgroup of the given population is adequately represented within the whole sample population.


## Question 2
Using the training data set, explore/describe the distribution of the outcome variable survived.

```{r}
titanic_train %>% 
  ggplot(aes(x = survived)) +
  geom_bar()
```

We can see from the graph that there are much more people who did not survive versus those who did survive. 


## Question 3

```{r}
cor_titanic_train <- titanic_train %>%
  select(-c(survived, pclass, name, sex, ticket, cabin, embarked)) %>%
  correlate()
rplot(cor_titanic_train)
```

From the correlation matrix, we can see that sib_sp and age are negatively related, parch and age are negatively related, parch and sib_sp are positively related, fare and sib_sp are positively related, and fare and parch are positively related.
